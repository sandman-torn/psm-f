import{_ as N}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-Bm2K1jX0.js";import{_ as R}from"./AdminLayoutPentadbir-D0lzjl58.js";import{p as M,r as p,o as v,e as b,a as o,c as d,b as t,i as u,y as c,t as l,l as i,E as T,F as h,k as _,g as x,w as y,d as w,B,z as C,D as S,h as D,J as I,f as J}from"./index-akeXVEdY.js";import{_ as j}from"./ComponentCard.vue_vue_type_script_setup_true_lang-hLfoshuD.js";import"./Dropzone.vue_vue_type_style_index_0_lang-SraB36RU.js";import"./Backdrop.vue_vue_type_script_setup_true_lang-Dkk3c35f.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ePNJevent-BmfCIqR1.js";const A={class:"space-y-6"},E={key:0,class:"mt-2 text-sm text-red-600"},F={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},K={class:"space-y-6"},z={key:0,class:"mt-2 text-sm text-red-600"},L={class:"space-y-6"},W={key:0,class:"mt-2 text-sm text-red-600"},q={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},G={class:"space-y-6"},H={key:0,class:"mt-2 text-sm text-red-600"},O={class:"space-y-6"},Q={key:0},X=["value"],Y={key:0,class:"text-sm text-red-600"},Z={class:"grid grid-cols-1 gap-6 sm:grid-cols-2"},ee={class:"space-y-6"},te={key:0,class:"mt-2 text-sm text-red-600"},ae={class:"space-y-6"},re={key:0,class:"mt-2 text-sm text-red-600"},se={class:"space-y-6"},oe={class:"flex flex-col gap-2"},de=["value"],le={key:0,class:"mt-2 text-sm text-red-600"},ne={class:"mt-4 flex justify-between items-center w-full"},ie=M({__name:"DefaultInputsUserUpdate",setup(U){const g=C(),k=S(),a=p({name:"",ic_no:"",position:"",department:"",phone_no:"",email:"",password:"",password_confirmation:"",roles:[],unit_id:""}),s=p({}),V=[{id:1,role:"Peserta"},{id:2,role:"Penganjur"},{id:3,role:"Pentadbir Sistem"}];v(async()=>{const n=g.params.id;console.log("userId:",n);try{const e=await b.get(`/api/users/${n}`);console.log("userRes:",e),a.value.name=e.data.name,a.value.ic_no=e.data.ic_no,a.value.position=e.data.position,a.value.department=e.data.department,a.value.phone_no=e.data.phone_no,a.value.email=e.data.email,a.value.unit_id=e.data.unit_id,a.value.roles=e.data.roles.map(m=>m.id)}catch(e){console.error(e)}});const P=async()=>{s.value={};try{await b.get("/sanctum/csrf-cookie"),await b.put(`/api/users/${g.params.id}`,a.value),k.push("/basic-tables")}catch(n){n.response&&n.response.status===422&&(s.value=n.response.data.errors)}},f=p([]);return v(async()=>{const n=await b.get("/api/units");f.value=n.data;const e=g.params.id;if(e){const m=await b.get(`/api/users/${e}`);a.value.unit_id=m.data.unit_id,a.value.roles=m.data.roles.map(r=>r.id)}}),p(!1),p(null),p(null),(n,e)=>{const m=D("router-link");return o(),d("div",A,[t("form",{onSubmit:B(P,["prevent"])},[t("div",null,[e[8]||(e[8]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Nama ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=r=>a.value.name=r),placeholder:"Ali bin Abdullah",class:"mb-4 dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.name]]),s.value.name?(o(),d("p",E,l(s.value.name[0]),1)):i("",!0)]),t("div",F,[t("div",K,[e[9]||(e[9]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," My Kad ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[1]||(e[1]=r=>a.value.ic_no=r),placeholder:"841112015403",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.ic_no]]),s.value.ic_no?(o(),d("p",z,l(s.value.ic_no[0]),1)):i("",!0)]),t("div",L,[t("div",null,[e[10]||(e[10]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Jawatan ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[2]||(e[2]=r=>a.value.position=r),placeholder:"Penolong Akauntan W5",class:"mb-4 dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.position]]),s.value.position?(o(),d("p",W,l(s.value.position[0]),1)):i("",!0)])])]),t("div",q,[t("div",G,[e[11]||(e[11]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Jabatan ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[3]||(e[3]=r=>a.value.department=r),placeholder:"Perbendaharaan Negeri Johor",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.department]]),s.value.department?(o(),d("p",H,l(s.value.department[0]),1)):i("",!0)]),t("div",O,[a.value.roles.includes(2)?(o(),d("div",Q,[e[13]||(e[13]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"},"Unit",-1)),u(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>a.value.unit_id=r),class:"mb-4 dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},[e[12]||(e[12]=t("option",{value:""},"Pilih Unit",-1)),(o(!0),d(h,null,_(f.value,r=>(o(),d("option",{key:r.id,value:r.id},l(r.unit),9,X))),128))],512),[[T,a.value.unit_id]]),s.value.unit_id?(o(),d("p",Y,l(s.value.unit_id[0]),1)):i("",!0)])):i("",!0)])]),t("div",Z,[t("div",ee,[e[14]||(e[14]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," No Telefon ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[5]||(e[5]=r=>a.value.phone_no=r),placeholder:"019-7551234",class:"dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.phone_no]]),s.value.phone_no?(o(),d("p",te,l(s.value.phone_no[0]),1)):i("",!0)]),t("div",ae,[t("div",null,[e[15]||(e[15]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Emel ",-1)),u(t("input",{type:"text","onUpdate:modelValue":e[6]||(e[6]=r=>a.value.email=r),placeholder:"ali@johor.gov.my",class:"mb-4 dark:bg-dark-900 h-11 w-full rounded-lg border border-gray-300 bg-transparent px-4 py-2.5 text-sm text-gray-800 shadow-theme-xs placeholder:text-gray-400 focus:border-brand-300 focus:outline-hidden focus:ring-3 focus:ring-brand-500/10 dark:border-gray-700 dark:bg-gray-900 dark:text-white/90 dark:placeholder:text-white/30 dark:focus:border-brand-800"},null,512),[[c,a.value.email]]),s.value.email?(o(),d("p",re,l(s.value.email[0]),1)):i("",!0)])])]),t("div",se,[t("div",oe,[e[16]||(e[16]=t("label",{class:"mb-1.5 block text-sm font-medium text-gray-700 dark:text-gray-400"}," Peranan ",-1)),(o(),d(h,null,_(V,r=>t("label",{key:r.id,class:"flex items-center"},[u(t("input",{type:"checkbox",value:r.id,"onUpdate:modelValue":e[7]||(e[7]=$=>a.value.roles=$),class:"mr-2"},null,8,de),[[I,a.value.roles]]),w(" "+l(r.role),1)])),64)),s.value.roles?(o(),d("p",le,l(s.value.roles[0]),1)):i("",!0)])]),t("div",ne,[e[18]||(e[18]=t("button",{type:"submit",class:"px-4 py-3 text-sm font-medium text-white transition rounded-lg bg-green-600 hover:bg-green-700"}," Simpan ",-1)),x(m,{to:"/basic-tables",class:"px-4 py-3 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-lg transition"},{default:y(()=>e[17]||(e[17]=[w(" Kembali ")])),_:1})])],32)])}}}),ue={class:"grid grid-cols-1 gap-6"},pe={class:"space-y-6"},ve={__name:"FormUpdateUser",setup(U){const g=p("Kemaskini Pengguna");return(k,a)=>(o(),J(R,null,{default:y(()=>[x(N,{pageTitle:g.value},null,8,["pageTitle"]),t("div",ue,[t("div",pe,[x(j,{title:"Pendaftaran Pengguna"},{default:y(()=>[x(ie)]),_:1})])])]),_:1}))}};export{ve as default};
