import{_ as $}from"./PageBreadcrumb.vue_vue_type_script_setup_true_lang-CAZljUpU.js";import{_ as S}from"./AdminLayoutPentadbir-DfO5xlmr.js";import{_ as j}from"./ComponentCard.vue_vue_type_script_setup_true_lang-DLpq3fz9.js";import{_ as N}from"./Backdrop.vue_vue_type_script_setup_true_lang-UdUIDiPX.js";import{r as _,q as h,o as F,a as n,c as d,b as t,g as i,w as c,d as b,u as v,R as k,F as w,k as P,t as o,n as R,S as g,e as B,f as U}from"./index-X9mIgHB-.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./ePNJevent-BmfCIqR1.js";const D={class:"overflow-hidden rounded-xl border border-gray-200 bg-white dark:border-gray-800 dark:bg-white/[0.03]"},E={class:"max-w-full overflow-x-auto custom-scrollbar"},J={class:"flex justify-end mt-6 mb-4 mr-4"},K={class:"min-w-full"},L={class:"divide-y divide-gray-200 dark:divide-gray-700"},M={class:"px-5 py-4 sm:px-6"},O={class:"flex items-center gap-3"},q={class:"w-10 h-10 overflow-hidden rounded-full flex-shrink-0"},z=["alt"],A={class:"block font-medium text-gray-800 text-theme-sm dark:text-white/90"},G={class:"block text-gray-500 text-theme-xs dark:text-gray-400"},I={class:"px-5 py-4 sm:px-6"},Y={class:"text-gray-500 text-theme-sm dark:text-gray-400"},H={class:"px-5 py-4 sm:px-6"},Q={class:"text-gray-500 text-theme-sm dark:text-gray-400"},W={class:"px-5 py-4 sm:px-6"},X={class:"text-gray-500 text-theme-sm dark:text-gray-400"},Z={class:"px-5 py-4 sm:px-6"},tt={class:"text-gray-500 text-theme-sm dark:text-gray-400"},et={class:"px-5 py-4 sm:px-6"},at={class:"flex gap-2"},st=["onClick"],rt={class:"flex justify-center mt-4 mb-6 gap-2"},ot=["disabled"],nt=["onClick"],dt=["disabled"],u=10,it={__name:"BasicTableOne",setup(T){const m=async a=>{if((await g.fire({title:"Adakah anda pasti?",text:"Pengguna ini akan dipadam.",icon:"warning",showCancelButton:!0,confirmButtonText:"Ya, padam!",cancelButtonText:"Batal"})).isConfirmed)try{await B.delete(`/api/users/${a}`),g.fire("Berjaya!","Pengguna telah dipadam.","success"),y()}catch(e){console.error(e),g.fire("Ralat","Gagal memadam pengguna.","error")}},l=_([]),r=_(1),C=h(()=>{const a=(r.value-1)*u;return l.value.slice(a,a+u)}),x=h(()=>Math.ceil(l.value.length/u)),p=a=>{a>=1&&a<=x.value&&(r.value=a)},y=async()=>{try{const a=await B.get("/api/users");l.value=a.data}catch(a){console.error("Failed to fetch users:",a)}};return F(y),(a,s)=>(n(),d("div",D,[t("div",E,[t("div",J,[i(v(k),{to:{name:"Borang Pendaftaran Pengguna"},class:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded"},{default:c(()=>s[2]||(s[2]=[b(" Tambah Pengguna ")])),_:1})]),t("table",K,[s[4]||(s[4]=t("thead",null,[t("tr",{class:"border-b border-gray-200 dark:border-gray-700"},[t("th",{class:"px-5 py-3 text-left w-3/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"}," Nama dan Emel ")]),t("th",{class:"px-5 py-3 text-left w-2/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"myKad")]),t("th",{class:"px-5 py-3 text-left w-2/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Peranan")]),t("th",{class:"px-5 py-3 text-left w-2/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Jawatan")]),t("th",{class:"px-5 py-3 text-left w-2/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Jabatan")]),t("th",{class:"px-5 py-3 text-left w-2/11 sm:px-6"},[t("p",{class:"font-medium text-gray-500 text-theme-xs dark:text-gray-400"},"Tindakan")])])],-1)),t("tbody",L,[(n(!0),d(w,null,P(C.value,(e,f)=>(n(),d("tr",{key:f,class:"border-t border-gray-100 dark:border-gray-800"},[t("td",M,[t("div",O,[t("div",q,[t("img",{src:N,alt:e.name},null,8,z)]),t("div",null,[t("span",A,o(e.name),1),t("span",G,o(e.email),1)])])]),t("td",I,[t("p",Y,o(e.ic_no),1)]),t("td",H,[t("p",Q,o(e.roles.join(", ")),1)]),t("td",W,[t("p",X,o(e.position),1)]),t("td",Z,[t("p",tt,o(e.department),1)]),t("td",et,[t("div",at,[i(v(k),{to:{name:"Borang Kemaskini Pengguna.edit",params:{id:e.id}},class:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 sm:w-auto"},{default:c(()=>s[3]||(s[3]=[b(" Ubah ")])),_:2},1032,["to"]),t("button",{onClick:mt=>m(e.id),class:"bg-red-600 hover:bg-red-700 text-white text-sm font-medium px-3 py-1 rounded"}," Padam ",8,st)])])]))),128))])]),t("div",rt,[t("button",{onClick:s[0]||(s[0]=e=>p(r.value-1)),disabled:r.value===1,class:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50"}," Prev ",8,ot),(n(!0),d(w,null,P(x.value,e=>(n(),d("button",{key:e,onClick:f=>p(e),class:R(["px-3 py-1 rounded",r.value===e?"bg-blue-600 text-white":"bg-gray-200 hover:bg-gray-300"])},o(e),11,nt))),128)),t("button",{onClick:s[1]||(s[1]=e=>p(r.value+1)),disabled:r.value===x.value,class:"px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 disabled:opacity-50"}," Next ",8,dt)])])]))}},lt=V(it,[["__scopeId","data-v-877059bd"]]),ct={class:"space-y-5 sm:space-y-6"},ht={__name:"BasicTables",setup(T){const m=_("Senarai Pengguna");return(l,r)=>(n(),U(S,null,{default:c(()=>[i($,{pageTitle:m.value},null,8,["pageTitle"]),t("div",ct,[i(j,{title:"Senarai Pengguna Sistem"},{default:c(()=>[i(lt)]),_:1})])]),_:1}))}};export{ht as default};
